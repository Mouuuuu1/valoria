<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valorina Architecture Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
        }
        .layer {
            margin: 20px 0;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .layer:hover {
            transform: translateY(-5px);
        }
        .layer-1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .layer-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .layer-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .layer h2 {
            margin-top: 0;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .layer-icon {
            font-size: 32px;
        }
        .components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .component {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        .component h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        .component ul {
            margin: 0;
            padding-left: 20px;
            font-size: 14px;
        }
        .arrow {
            text-align: center;
            font-size: 32px;
            margin: 10px 0;
            color: #666;
        }
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        .tech-badge {
            background: rgba(255,255,255,0.3);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        .api-flow {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            border-left: 4px solid #667eea;
        }
        .api-flow h3 {
            color: #667eea;
            margin-top: 0;
        }
        .flow-step {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
        }
        .flow-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è Valorina E-Commerce Architecture</h1>
        <p class="subtitle">3-Tier Layered Architecture Pattern</p>

        <!-- Presentation Layer -->
        <div class="layer layer-1">
            <h2>
                <span class="layer-icon">üé®</span>
                LAYER 1: Presentation Layer (Frontend)
            </h2>
            <div class="tech-stack">
                <span class="tech-badge">Next.js 14</span>
                <span class="tech-badge">React 18</span>
                <span class="tech-badge">TypeScript</span>
                <span class="tech-badge">Tailwind CSS</span>
            </div>
            <div class="components">
                <div class="component">
                    <h3>üìÑ Pages</h3>
                    <ul>
                        <li>Home</li>
                        <li>Products</li>
                        <li>Product Detail</li>
                        <li>Cart</li>
                        <li>Checkout</li>
                        <li>Login/Register</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üß© Components</h3>
                    <ul>
                        <li>Navbar</li>
                        <li>Footer</li>
                        <li>ProductCard</li>
                        <li>CartItem</li>
                        <li>Forms</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üîÑ State Management</h3>
                    <ul>
                        <li>Auth Context</li>
                        <li>Cart Context</li>
                        <li>React Hooks</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üåê API Client</h3>
                    <ul>
                        <li>Axios Wrapper</li>
                        <li>Request Interceptors</li>
                        <li>Error Handling</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="arrow">‚¨áÔ∏è REST API (HTTP/JSON)</div>

        <!-- Business Logic Layer -->
        <div class="layer layer-2">
            <h2>
                <span class="layer-icon">‚öôÔ∏è</span>
                LAYER 2: Business Logic Layer (Backend)
            </h2>
            <div class="tech-stack">
                <span class="tech-badge">Express.js</span>
                <span class="tech-badge">Node.js</span>
                <span class="tech-badge">TypeScript</span>
                <span class="tech-badge">JWT</span>
            </div>
            <div class="components">
                <div class="component">
                    <h3>üéØ Controllers</h3>
                    <ul>
                        <li>Request Handling</li>
                        <li>Response Formatting</li>
                        <li>Input Validation</li>
                        <li>HTTP Status Codes</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üíº Services</h3>
                    <ul>
                        <li>Business Logic</li>
                        <li>Data Processing</li>
                        <li>Complex Operations</li>
                        <li>Reusable Functions</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üõ°Ô∏è Middleware</h3>
                    <ul>
                        <li>Authentication (JWT)</li>
                        <li>Authorization (Roles)</li>
                        <li>Validation</li>
                        <li>Error Handling</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üõ£Ô∏è Routes</h3>
                    <ul>
                        <li>Auth Routes</li>
                        <li>Product Routes</li>
                        <li>Cart Routes</li>
                        <li>Order Routes</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="arrow">‚¨áÔ∏è Mongoose ODM</div>

        <!-- Data Access Layer -->
        <div class="layer layer-3">
            <h2>
                <span class="layer-icon">üóÑÔ∏è</span>
                LAYER 3: Data Access Layer (Database)
            </h2>
            <div class="tech-stack">
                <span class="tech-badge">MongoDB</span>
                <span class="tech-badge">Mongoose</span>
            </div>
            <div class="components">
                <div class="component">
                    <h3>üìä Models</h3>
                    <ul>
                        <li>User Schema</li>
                        <li>Product Schema</li>
                        <li>Cart Schema</li>
                        <li>Order Schema</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üîç Operations</h3>
                    <ul>
                        <li>CRUD Operations</li>
                        <li>Queries & Filters</li>
                        <li>Aggregations</li>
                        <li>Indexing</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>üîó Relationships</h3>
                    <ul>
                        <li>User ‚Üî Cart</li>
                        <li>User ‚Üî Orders</li>
                        <li>Cart ‚Üî Products</li>
                        <li>Order ‚Üî Products</li>
                    </ul>
                </div>
                <div class="component">
                    <h3>‚ö° Performance</h3>
                    <ul>
                        <li>Indexes</li>
                        <li>Connection Pool</li>
                        <li>Query Optimization</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Request Flow Example -->
        <div class="api-flow">
            <h3>üì° Example Request Flow: "Add Product to Cart"</h3>
            
            <div class="flow-step">
                <div class="flow-number">1</div>
                <div>
                    <strong>User Action:</strong> Clicks "Add to Cart" button on product page
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">2</div>
                <div>
                    <strong>Frontend (Component):</strong> Calls useCart().addToCart(productId, quantity)
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">3</div>
                <div>
                    <strong>API Client:</strong> POST /api/cart with JWT token in header
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">4</div>
                <div>
                    <strong>Middleware:</strong> Validates JWT token, authenticates user
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">5</div>
                <div>
                    <strong>Controller:</strong> cartController.addToCart() validates input
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">6</div>
                <div>
                    <strong>Service:</strong> cartService.addToCart() checks stock, updates cart
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">7</div>
                <div>
                    <strong>Model:</strong> Cart.findOne() and Product.findById() query database
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">8</div>
                <div>
                    <strong>Database:</strong> MongoDB updates cart collection
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">9</div>
                <div>
                    <strong>Response:</strong> Travels back up through all layers with updated cart
                </div>
            </div>
            
            <div class="flow-step">
                <div class="flow-number">10</div>
                <div>
                    <strong>Frontend:</strong> Updates state, shows success message, updates cart icon
                </div>
            </div>
        </div>

        <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
            <h3 style="color: #667eea; margin-top: 0;">‚ú® Architecture Benefits</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                <div>
                    <strong>üéØ Separation of Concerns</strong>
                    <p style="margin: 5px 0; font-size: 14px;">Each layer has a single, well-defined responsibility</p>
                </div>
                <div>
                    <strong>üîß Maintainability</strong>
                    <p style="margin: 5px 0; font-size: 14px;">Easy to update one layer without affecting others</p>
                </div>
                <div>
                    <strong>üìà Scalability</strong>
                    <p style="margin: 5px 0; font-size: 14px;">Layers can scale independently based on demand</p>
                </div>
                <div>
                    <strong>üß™ Testability</strong>
                    <p style="margin: 5px 0; font-size: 14px;">Each layer can be tested in isolation with mocks</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
